---
import { clsx } from "clsx";

export interface Props {
    as?: "div" | "a";
    class?: string;
    href?: string;
    target?: string;
    rel?: string;
    aspectRatio?: "square" | "4/3" | "auto";
    bordered?: boolean;
}

const {
    as: Element = "div",
    class: className,
    href,
    aspectRatio = "auto",
    bordered = false,
    ...rest
} = Astro.props;

const target = href && (Astro.props.target || "_blank");
const rel = target === "_blank" ? "noopener noreferrer" : Astro.props.rel;

const aspectRatioClasses = {
    square: "aspect-square",
    "4/3": "aspect-[4/3]",
    auto: "aspect-auto",
};
---
<Element
    href={href}
    target={target}
    rel={rel}
    class={clsx(
        "card group relative block h-full w-full rounded-xl text-black/60 transition-all duration-300",
        href && "cursor-pointer overflow-hidden focus-visible:outline-plum hover:-translate-y-1 dark:hover:border-secondary-600",
        aspectRatioClasses[aspectRatio],
        bordered && "border border-neutral-300",
        className
    )}
    {...rest}
>
    <slot />
</Element>
